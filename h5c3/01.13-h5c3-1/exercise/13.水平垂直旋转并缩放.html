<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>矩形旋转并缩放</title>
    <style>
        #myCanvas {
            background: #ccc;
        }
    </style>
</head>

<body>
    <canvas id="myCanvas" width="500" height="500"></canvas>
    <script>
        const oMyCanvas = document.getElementById("myCanvas");
        const CTX = oMyCanvas.getContext("2d");
        let deg = 0;//默认旋转角度
        let scale = 0;//默认缩放比例
        let value = 0.01;//缩放递增递减的值

        const timer = setInterval(function () {
            // 每次重新绘制之前，需要清空画布
            CTX.clearRect(0, 0, oMyCanvas.width, oMyCanvas.height);
            CTX.save();
            deg++;
            scale += value;
            //最大放大2倍，到达最大后慢慢缩到-1
            if (scale >= 2) {
                value *= -1;
            } else if (scale <= 0) {
                value *= -1;
            }

            CTX.beginPath();
            CTX.translate(oMyCanvas.width / 2, oMyCanvas.height / 2);
            CTX.rotate(deg * Math.PI / 180);

            CTX.scale(scale, scale)

            CTX.translate(-50, -50);
            CTX.fillRect(0, 0, 100, 100);
            CTX.restore();
        }, 16.7)



    </script>
</body>

</html>